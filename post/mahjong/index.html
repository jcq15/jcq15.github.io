<!doctype html><html lang=zh-cn dir=content/zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-security-policy content="upgrade-insecure-requests"><title>日麻算分规则推导-死记硬背不如理解原理 - 沙雕园</title><meta name=keywords content="博客,数学,编程,整活,科普,搞笑,技术,分享"><meta name=author content="精神病人"><meta property="og:title" content="日麻算分规则推导-死记硬背不如理解原理"><meta property="og:site_name" content="沙雕园"><meta property="og:image" content="/img/author.jpg"><meta name=title content="日麻算分规则推导-死记硬背不如理解原理 - 沙雕园"><meta name=description content="欢迎来到沙雕园。本博客要素较多，包括但不限于数学、编程、游戏、吐槽、冲塔、科普、整活。"><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><link href=//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css><link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle role=button style=opacity:1;top:0><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><div class=custom-logo-site-title><a href=/ class=brand rel=start><span class=logo-line-before><i></i></span>
<span class=site-title>沙雕园</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>沙雕使人进步。</p></div><div class=site-nav-right><div class="toggle popup-trigger" style=opacity:1;top:0><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-active"><a href=/post rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class=menu-item><a href=/about.html rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于我</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class=search-icon><i class="fa fa-search"></i></span>
<span class=popup-btn-close><i class="fa fa-times-circle"></i></span><div class=local-search-input-wrapper><input autocomplete=off placeholder=搜索关键字... spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off></div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href=/post/mahjong/ itemprop=url>日麻算分规则推导-死记硬背不如理解原理</a></h1><div class=post-meta><span class=post-pushdate><i class="fa fa-calendar-o fa-fw"></i>
<span class=post-meta-item-text>时间：</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2022-05-12">2022-05-12</time></span>
<span class=post-category><i class="fa fa-folder-o fa-fw"></i>
<span class=post-meta-item-text>分类：</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a class=post-category-a href=/categories/%E6%B8%B8%E6%88%8F itemprop=url rel=index><span itemprop=name>游戏</span></a>
&nbsp;</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a class=post-category-a href=/categories/%E5%AD%A6%E4%B9%A0 itemprop=url rel=index><span itemprop=name>学习</span></a>
&nbsp;</span></span>
<span class=post-wordcount><i class="fa fa-file-word-o fa-fw"></i>
<span class=post-meta-item-text>字数：</span>
<span class=leancloud-world-count>4512 字</span></span>
<span class=post-readtime><i class="fa fa-eye fa-fw"></i>
<span class=post-meta-item-text>阅读：</span>
<span class=leancloud-view-count>10分钟</span></span>
<span id=/post/mahjong/ class="leancloud_visitors post-visitor" data-flag-title=日麻算分规则推导-死记硬背不如理解原理><i class="fa fa-binoculars fa-fw"></i>
<span class=post-meta-item-text>阅读次数：</span>
<span class=leancloud-visitors-count></span></span></div></header><div class=post-body itemprop=articleBody><p>对于刚入坑的玩家来说，日麻的算分规则极其复杂，记住役种已经很困难了，还要算番算符。要是遇到面麻四个人都不会算分，就会被水淹没不知所措。如果因为算分起了争执，可能打起来，被打死，十分危险。</p><p>规则都是人定的，定出这样的规则一定有其目的或意义。今天带大家梳理一下日麻的各种计分规则，并介绍它们为什么是这样。</p><p>阅读本文需要的基础知识：</p><ul><li>麻将和牌规则（至少要知道4面子+1雀头，役种记不全无所谓）</li><li>知道日麻的役牌、自风、场风</li><li>知道幺九和中张的概念</li></ul><h2 id=1-基本点数之上的计算>1. 基本点数之上的计算</h2><h3 id=最简单的计分>最简单的计分</h3><p>计分是为了什么？当然是为了记录之前的战绩。那么最简单的计分就是：</p><ul><li>和一局计1分</li></ul><h3 id=筹码>筹码</h3><p>但这种规则如果玩钱的话就不好办了，钱只能是一个人给另一个人，不能凭空增加，所以我们稍微改改规则：</p><ul><li>每和一局，其他三家各减1分，胡牌者加3分</li></ul><p>“分”更专业的说法是“点”。换种说法就是：</p><ul><li>未和牌者每人支付和牌者1点</li></ul><h3 id=点炮>点炮</h3><p>这样问题又来了，如果 A 给 B 点炮，最大的责任在 A，点炮者应该支付更多，以示惩罚。有些地方麻将规定点炮者支付的点数加倍，但在日麻中惩罚更为严厉：</p><ul><li>包付制：点炮者要替其他人支付所有点数</li></ul><blockquote><p>这也是日麻比其他麻将更注重防守的原因之一。此外，这种规则也可以有效防止两家合作坑其他人。</p></blockquote><p>比如 A 给 B 点炮，A 不仅要支付自己的 1 点，还要替 C、D 各支付 1 点，于是有：</p><ul><li>点炮者支付和牌者 3 点</li></ul><p>而如果是自摸，则和刚才一样，未和牌者每人支付和牌者1点就行了。</p><h3 id=庄家>庄家</h3><p>庄家，作为本局的起始玩家，拥有特殊的地位，如果能在计分上体现出这种特殊性就好了。我们规定：</p><ul><li>所有涉及庄家的点数加倍</li></ul><p>具体地：</p><ul><li>庄家荣和，点炮者支付 6 点，庄家得 6 点</li><li>庄家自摸，其他三家每人支付 2 点，庄家得 6 点</li><li>闲家荣和，点炮者支付 4 点（包付庄家 2 点和两闲家各 1点），和者得 4 点</li><li>闲家自摸，庄家支付 2 点，另外两闲家各支付 1 点，和者得 4 点</li></ul><blockquote><p>这就是其他教程里“4a”，“6a”的来历。</p></blockquote><h3 id=后记>后记</h3><p>以上讨论的基本点数都是 1。不失一般性，我们可以整体扩大 a 倍（a 为正整数），即：</p><ul><li>庄家荣和，点炮者支付 6a，庄家得 6a</li><li>庄家自摸，其他三家每人支付 2a，庄家得 6a</li><li>闲家荣和，点炮者支付 4a，和者得 4a</li><li>闲家自摸，庄家支付 2a，另外两闲家各支付 a，和者得 4a</li></ul><p>这里的 a 又要怎么算呢？a 由符数 b 和番数 n 共同确定。下面逐一介绍。</p><h2 id=2-基本点数计算--符>2. 基本点数计算 —— 符</h2><p>基于上述讨论，不管和了什么样的牌，得分都一样，这不合理。我们希望能够根据不同的牌面给予不同的得分，以此体现不同牌形的价值。这一点在日麻中通过“符”和“番”来实现。</p><p>符用来对牌面本身进行计分。</p><h3 id=刻子杠子>刻子、杠子</h3><p>面子分为“顺子”（如123）和“刻子”（如444）。显然刻子更难获得，所以我们给刻子额外加分。加分不宜太多也不宜太少。经过实践，一个比较合理的幅度是：</p><ul><li>和牌时，每有一个刻子，得分增加 0.1a</li></ul><p>为了计算方便，我们把 a 规定为 20，于是规则变成：</p><ul><li><strong>任何和牌的基本点数为 20</strong></li><li>和牌时，每有一个刻子，得分增加 2</li></ul><p>再精细一些，暗刻比明刻难做，所以暗刻加倍，也就是：</p><ul><li>和牌时，每有一个明刻，得分增加 2</li><li>和牌时，每有一个暗刻，得分增加 4</li></ul><p>此外，幺九牌的牌效率较低，一般倾向于提前打出，所以幺九刻子比中张刻子难以获得。我们给幺九刻字的得分奖励也加倍！</p><p>幺九和中张、明和暗，排列组合就有 4 种情况了：</p><ul><li>和牌时，每有一个中张明刻，得分增加 2</li><li>和牌时，每有一个幺九明刻，得分增加 4</li><li>和牌时，每有一个中张暗刻，得分增加 4</li><li>和牌时，每有一个幺九暗刻，得分增加 8</li></ul><p>杠子是比刻子还难做的东西，同样有幺九和中张、明和暗四种情况。对明杠来说，不论是大明杠还是明刻加杠，都需要自己摸 3 张，再获得其他人的 1 张，而自己摸 3 张的难度已经和暗刻等同了，所以明杠其实是比暗刻还难做的东西。因此，明杠的得分是对应暗刻的 2 倍，而暗杠又得是明杠的 2 倍，总结一下就是：</p><ul><li>和牌时，每有一个中张明杠，得分增加 8</li><li>和牌时，每有一个幺九明杠，得分增加 16</li><li>和牌时，每有一个中张暗杠，得分增加 16</li><li>和牌时，每有一个幺九暗杠，得分增加 32</li></ul><p>可以看到，幺九暗杠是很值钱的，直接加了 32 分，牛啊牛啊！</p><p>以上不用死记硬背，只要知道最基础的“中张明刻+2符”，然后幺九加倍、暗加倍、明杠是暗刻的二倍，就可以现场推导。</p><h3 id=雀头>雀头</h3><p>为了体现役牌的地位：</p><ul><li>役牌雀头 +2 符</li></ul><p>注：如果是自风场风重合，就是双重役牌，双倍的快乐，+4 符。</p><h3 id=听牌>听牌</h3><p>根据前面的尿性，越是概率低的东西，加符越多。物以稀为贵嘛！听牌也是一样。多数情况下，人们倾向于做“好型听牌”，例如 23 听 14，听的牌有两种（1和4），这就比较普通，不加符。如果你听的牌只有 1 种，则 +2 符。</p><p>只听 1 种牌只有以下三种情况：</p><ul><li>边张：例如 12 听 3、 89 听 7</li><li>嵌张：例如 24 听 3</li><li>单骑：就是单听那一张雀头</li></ul><p>于是：</p><ul><li>边张、嵌张、单骑听牌 +2 符</li></ul><p>需要注意的是：</p><ul><li>如果是组合型多面听，按照最终和到的牌对应的牌型计算。例如 1113，虽然听 23，是两种牌，但我和 2 时，实际上是 13 听 2，算嵌张，也加符。</li><li>有多种算法，按照符多的算。例如 23345，和了 4，既可以看成 23 听 14，也可以看成 35 听 4。如果这里不影响番数计算的话，应该按照嵌张计算，+2 符（之所以加了个“不影响番数计算”的条件，是因为算番的时候，这里可能会影响到是否为平和，从而影响番数，但无论如何都是按照最终打点高的计算方式）。（<strong>这是日麻的大原则，多种算法总是按最终打点高的算</strong>，后面算番也一样，不再重复）</li></ul><h3 id=和牌方式>和牌方式</h3><p>和牌方式有两个维度：是否门前清、是自摸还是荣和，4种情况。显然门前清比副露厉害，自摸比荣和厉害。下面逐个讨论。</p><p>副露自摸 +2 符，这是对自摸的奖励。</p><p>门前清自摸最厉害，但这个直接算 1 番，所以就不针对门前清额外加符了，和副露自摸一样 +2 符。</p><p>门前清荣和，仅仅因为最后一张牌不是自己摸到的，就痛失一番，一番大概相当于 20 符（实际不是，只是粗略估计），那门前清荣和勉强算半番，也就是 +10 符。</p><p>副露荣和，啥都没有。</p><p>上面看着乱，但总结一下就这两种情况：</p><ul><li>自摸 +2 符</li><li>门前清荣和 +10 符</li></ul><h3 id=进位>进位</h3><p>看到这是不是已经吐了？如果直接这样算出基本点 a，没有番还好，有番的话，要用 a 做很多复杂计算，很麻烦。为了便于计算，人们规定：</p><ul><li>算完符之后，一律向上取整到整十</li></ul><p>比如算出来 28 符，就进位到 30。32 符就进位到 40。</p><h3 id=特殊情况>特殊情况</h3><p>有两种特殊牌型，下面逐一介绍。</p><h4 id=特殊情况一七对子>特殊情况一：七对子</h4><p>七对子是固定 25 符，不管你听的啥和的啥有没有雀头，都是固定 25 符，并且不进位到 30. 这是因为，刚有七对子的时候是 0 番 100 符（没错，那时候还有“0番”的说法），后来七对子改成了 2 番，为了和原来 0 番 100 符保持一致，就改成了 2 番 25 符（<code>25*2^2=100</code> 嘛！）。</p><h4 id=特殊情况二20符>特殊情况二：20符</h4><p>最少的符是 20 符。但有许许多多加符的规则，所以一般都会超过 20 符，但还是会有倒霉蛋和到 20 符，这太少了，和了一大顿才 20 符，让人想掀桌。所以加了这么一条规则：</p><ul><li><strong>如果按照符最多的算法</strong>算出来还是 20 符，自动进到 30 符</li></ul><p>是不是很简单粗暴！</p><p>很多规则里把这个称为“副露平和型的荣和”，这是把简单问题复杂化了。因为“副露平和型的荣和”其实等价于<strong>按照符最多的算法</strong>算出来 20 符，证明留给大家自行思考。</p><p>注：平和按 20 符计算，不进到 30 符。平和如果按照符最多的算法，一定不是 20 符。平和是门前清限定，而门前清不论自摸还是荣和都有额外加符，只不过为了获得平和的 1 番放弃了额外加符而已。（这也符合前面说的“最终打点最大化”的大原则）</p><h3 id=算符流程总结>算符流程总结</h3><p>实战中，可以参考以下算符流程：</p><ol><li>看是不是七对子，如果是，直接 25 符，结束；否则获得底符 20</li><li>计算刻子和杠子的加符</li><li>计算听牌方式的加符</li><li>如果算到这里还是 20 符，则转到 6；否则转到 7</li><li>如果是门前清，是平和 20 符；如果是副露自摸，是 22 符；如果是副露荣和，则是 30 符；转到 8</li><li>如果是自摸，额外 +2 符；如果是门前清荣和，额外 +10 符，副露荣和不加符</li><li>进位到整 10，结束</li></ol><p>算完符之后，我们得到了一个符数，<strong>为了方便，下面记作 b</strong>。</p><h2 id=3-基本点数计算--番>3. 基本点数计算 —— 番</h2><p>如果没有番这一说，则符数 b 就是基本点数 a。但不同的牌型稀有度是不一样的，例如九莲宝灯显然比断幺九厉害。番就是用来衡量稀有度的。本文重点讲计分原理，所以就不重点介绍不同番型了，可以看后面的附录。</p><p>番分为普通番和役满，我们先说普通番。普通番就直接把所有成立的番数加起来，比如立直对对和，就是 1+2=3 番。</p><h3 id=满贯以下>满贯以下</h3><p>下面假设我们已经得到了符数 b 和番数 n。番就是翻倍，最简单的算法是：</p><ul><li>$a=2^nb$</li></ul><p>实际上，为了计算方便，人们还是将 a 对齐到整百。a 如果太小了，对齐就会有较大误差（比如 1 番 30 符，a=30，你是算 0 还是算 100？尴尬不？）。为了解决这一问题，人们统一在指数上加了个 2：</p><ul><li>$a=2^{n+2} b$</li></ul><p>之后，直接按照第 1 节的方法，根据 $a$ 计算出待支付点数，然后不足 100 的进位到 100（点棒的最小单位是 100）。</p><p><strong>例</strong>：闲家自摸 4 番 30 符，a=1920，另外两个闲家每人支付进位后的 2000，庄家支付 2a = 3840，进位后是 3900（注意不是先进位到 2000 再乘 2！）。所以此人最终获得 2000 + 2000 + 3900 = 7900.</p><p>把以上内容写成数学公式，就是这个让初学者一头雾水的东西：</p><p>$$N = 100 \lceil \dfrac{kb2^{n+2}}{100} \rceil$$</p><p>k 是第 1 节说的 a 前面的系数，N 是此人要支付的点数。</p><p>但这公式屁用没有，实际计算的时候，用的都是 $a=2^{n+2} b$。</p><h3 id=平滑化>平滑化</h3><p>实战中 30 符很常见，我们以 30 符为例算一下不同番的基本点：</p><table><thead><tr><th>番数</th><th>基本点</th></tr></thead><tbody><tr><td>1</td><td>240</td></tr><tr><td>2</td><td>480</td></tr><tr><td>3</td><td>960</td></tr><tr><td>4</td><td>1920</td></tr><tr><td>5</td><td>3840</td></tr><tr><td>6</td><td>7680</td></tr><tr><td>7</td><td>15360</td></tr><tr><td>8</td><td>30720</td></tr></tbody></table><p>可以看到，这里存在一个指数爆炸的问题，如果闲家点闲家的 8 番 30 符，按照上面算法竟然要支付 122900 点，而四个人点棒加起来才 100000 点，如果真的发生这种事情，点炮者只点了 8 番就要输光内裤，很可能会羞愤而死，非常危险。为了解决这一问题，我们需要对较大的番数进行特殊处理，不让他指数爆炸。</p><p>最简单的方法就是设计一个上限，习惯上取了个 4 番~ 5 番附近的点数 2000。我们规定：</p><ul><li>如果 a > 2000，则按 2000 计算</li></ul><p>我们来看看这意味着什么。最小的符数是 20 符，20 符 4 番是 1280 点，20 符 5 番是 2560 点，所以大于等于 5 番时，a 一定是 2000. 而番数小于 5 番时，符数较大也会达到 2000，例如 4 番 40 符（a=2560），3 番 70 符（a=2240），2 番 130 符等。<strong>我们把这种 a 超过 2000 的情况称为“满贯”，直接计 a=2000.</strong></p><p>可以看到，5 番是一个分水岭。只要达到 5 番，一定是满贯（这也意味着 5 番及以上不用算符了，妙极了）。</p><p>但如果只这样，又不太好，5 番和 13 番都是 2000 点，和 13 番的人可能会羞愤而死，非常危险。我们可以设一个循序渐进的界限：</p><ul><li>如果 1~5 番，a &lt; 2000，正常计算</li><li>如果 1~5 番，a > 2000，称为满贯，取 a = 2000</li><li>6~7 番，称为跳满（即 1.5 倍满贯），取 a = 3000</li><li>8~10 番，称为倍满，取 a = 4000</li><li>11~12 番，称为三倍满，取 a = 6000</li><li>13番及以上，称为累计役满（即 4 倍满贯），取 a = 8000</li></ul><p>好起来了！</p><h3 id=役满>役满</h3><p>刚才我们提到了累计役满。实际上，番数表里面除了常规的番，还有专门的“役满”。这些“役满”都是极难达成的，为了体现它们的特殊地位，就设立了役满的规则。</p><p>役满可以理解为“高阶满贯”。正如满贯让玩家可以忽略符数，役满可以让玩家忽略普通的番数，而只计算役满。例如同时成立清一色和绿一色时，只计算绿一色的役满，不计算清一色的 6 番（或 5 番）。</p><p>役满和累计役满一样，a = 8000，非常好算。</p><p>但役满之间允许复合（累计役满和役满不能复合！因为累计役满的本质不是役满，而是四倍满贯，十三番！）。例如天和国士无双十三面（拿阳寿打牌？），就是三倍役满，a = 24000，此时不计其他的普通番数（比如宝牌）。</p><h2 id=附录番数表>附录：番数表</h2><p>这个人很懒，这里忘了放！</p></div><footer class=post-footer><div class=post-tags><a href=/tags/%e6%b8%b8%e6%88%8f rel=tag title=游戏>#游戏#</a>
<a href=/tags/%e5%ad%a6%e4%b9%a0 rel=tag title=学习>#学习#</a></div><div class=addthis_inline_share_toolbox></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/%E6%8D%A2%E4%BA%86%E4%B8%AA%E6%A8%A1%E6%9D%BF/ rel=next title=换了个主题！><i class="fa fa-chevron-left"></i> 换了个主题！</a></div><div class="post-nav-prev post-nav-item"><a href=/post/act_wzry/ rel=prev title=演员大型教程——怎么演气人还不被举报？>演员大型教程——怎么演气人还不被举报？
<i class="fa fa-chevron-right"></i></a></div></div><div id=ucomments></div></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/img/avatar.png alt=精神病人><p class=site-author-name itemprop=name>精神病人</p><p class="site-description motion-element" itemprop=description>精神病人欢乐多!</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/post/><span class=site-state-item-count>36</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>11</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>11</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/jcq15/ target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>
GitHub</a></span></div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline"><div class=tagcloud-of-blogroll-title><i class="fa fa-fw fa-tags"></i>
标签云</div><ul class=tagcloud-of-blogroll-list><li class=tagcloud-of-blogroll-item><a href=/tags/%E5%AD%A6%E4%B9%A0>学习
<sup>15</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%8A%80%E6%9C%AF>技术
<sup>5</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%9D%8E%E5%8D%8E%E5%A4%A7%E5%86%92%E9%99%A9>李华大冒险
<sup>5</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%B8%B8%E6%88%8F>游戏
<sup>3</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%95%B4%E6%B4%BB>整活
<sup>2</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%9B%B4%E6%96%B0>更新
<sup>2</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E7%A7%91%E6%99%AE>科普
<sup>2</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%95%A2%E6%83%B3>敢想
<sup>1</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%B2%99%E9%9B%95>沙雕
<sup>1</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80>王者荣耀
<sup>1</sup></a></li></ul></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span class=copyright-year>&copy; 2010 - 2022</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=copyright-author>沙雕园</span></div><div class=powered-info><span class=powered-by>Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.101.0</a></span>
<span class=separator-line>/</span>
<span class=theme-info>Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank>NexT</a></span></div><div class=vistor-info><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span class=site-uv><i class="fa fa-user"></i>
<span class=busuanzi-value id=busuanzi_value_site_uv></span></span>
<span class=separator-line>/</span>
<span class=site-pv><i class="fa fa-eye"></i>
<span class=busuanzi-value id=busuanzi_value_site_pv></span></span></div><div class=license-info><span class=storage-info>Storage by
<a href=https://github.com/jcq15/jcq15.github.io style=font-weight:700 target=_blank>Github 仓库</a></span>
<span class=separator-line>/</span>
<span class=license-num><a href target=_blank></a></span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script type=text/javascript src=/js/search.js></script>
<script type=text/javascript src=/js/affix.js></script>
<script type=text/javascript src=/js/scrollspy.js></script>
<script type=text/javascript>function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),s=e.indexOf("Edge/");return t>0||n>0||s>0?-1:1}function getCntViewHeight(){var t=$("#content").height(),e=$(window).height(),n=t>e?t-e:$(document).height()-e;return n}function getScrollbarWidth(){var e=$("<div />").addClass("scrollbar-measure").prependTo("body"),t=e[0],n=t.offsetWidth-t.clientWidth;return e.remove(),n}function registerBackTop(){var t=50,e=$(".back-to-top");$(window).on("scroll",function(){e.toggleClass("back-to-top-on",window.pageYOffset>t);var s=$(window).scrollTop(),o=getCntViewHeight(),i=s/o,n=Math.round(i*100),a=n>100?100:n;$("#scrollpercent>span").html(a)}),e.on("click",function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){var e=".post-toc",s=$(e),t=".active-current";s.on("activate.bs.scrollspy",function(){var t=$(e+" .active").last();n(),t.addClass("active-current")}).on("clear.bs.scrollspy",n),$("body").scrollspy({target:e});function n(){$(e+" "+t).removeClass(t.substring(1))}}function initAffix(){var e=$(".header-inner").height(),t=parseInt($(".main").css("padding-bottom"),10),n=e+10;$(".sidebar-inner").affix({offset:{top:n,bottom:t}}),$(document).on("affixed.bs.affix",function(){updateTOCHeight(document.body.clientHeight-100)})}function initTOCDimension(){$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){var e=document.body.clientHeight-100;updateTOCHeight(e)},0)}),updateTOCHeight(document.body.clientHeight-100);var e,t=getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+t+"px)")}function updateTOCHeight(e){e=e||"auto",$(".post-toc").css("max-height",e)}$(function(){var e,t,n,s,o=$(".header-inner").height()+10;$("#sidebar").css({"margin-top":o}).show(),t=parseInt($("#sidebar").css("margin-top")),n=parseInt($(".sidebar-inner").css("height")),e=t+n,s=$(".content-wrap").height(),s<e&&$(".content-wrap").css("min-height",e),$(".site-nav-toggle").on("click",function(){var e=$(".site-nav"),o=$(".toggle"),t="site-nav-on",i="toggle-close",n=e.hasClass(t),a=n?"slideUp":"slideDown",s=n?"removeClass":"addClass";e.stop()[a]("normal",function(){e[s](t),o[s](i)})}),registerBackTop(),initScrollSpy(),initAffix(),initTOCDimension(),$(".sidebar-nav-toc").click(function(){$(this).addClass("sidebar-nav-active"),$(this).next().removeClass("sidebar-nav-active"),$("."+$(this).next().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)}),$(".sidebar-nav-overview").click(function(){$(this).addClass("sidebar-nav-active"),$(this).prev().removeClass("sidebar-nav-active"),$("."+$(this).prev().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)})})</script><script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script>
<script type=text/javascript>$(function(){$(".post-body").viewer()})</script><script src=//cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-min.js></script>
<script type=text/javascript>function showTime(e){var n=new AV.Query(e),t=[],s=$(".leancloud_visitors");s.each(function(){t.push($(this).attr("id").trim())}),n.containedIn("url",t),n.find().then(e=>{var n,o,i,r,c,l,a=".leancloud-visitors-count";if(e.length==0){s.find(a).text(0);return}for(n=0;n<e.length;n++)r=e[n],o=r.get("url"),l=r.get("time"),i=document.getElementById(o),$(i).find(a).text(l);for(n=0;n<t.length;n++)o=t[n],i=document.getElementById(o),c=$(i).find(a),c.text()==""&&c.text(0)},e=>{console.log("Query vistors failed: "+e)})}function addCount(e){var n=$(".leancloud_visitors"),t=n.attr("id").trim(),o=n.attr("data-flag-title").trim(),s=new AV.Query("Counter");s.equalTo("url",t),s.find().then(n=>{if(n.length>0){var s,i,a=n[0];a.increment("time",1),a.save(null,{query:new AV.Query("Counter").equalTo("url",t),fetchWhenSave:!0}).then(e=>{var n=$(document.getElementById(t));n.find(".leancloud-visitors-count").text(e.get("time"))},e=>{console.log("Update vistor failed: "+e)})}else i=new AV.ACL,i.setPublicReadAccess(!0),i.setPublicWriteAccess(!0),s=new e,s.set("title",o),s.set("url",t),s.set("time",1),s.setACL(i),s.save().then(e=>{var n=$(document.getElementById(t));n.find(".leancloud-visitors-count").text(s.get("time"))},e=>{console.log("Save new vistor failed: "+e)})})}$(function(){AV.init({appId:"Your LCAppId",appKey:"Your LCAppKey",serverURL:"Your LCServer"});const e=AV.Object.extend("Counter");$(".leancloud_visitors").length==1?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script type=text/javascript>(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.setAttribute("issue-term","title"),e.setAttribute("theme","github-light"),e.setAttribute("repo","jcq15/blog"),e.crossorigin="anonymous",e.src="https://utteranc.es/client.js",document.getElementById("ucomments").appendChild(e)})()</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script>MathJax={tex:{inlineMath:[["$","$"]]},displayMath:[["$$","$$"],["[[","]]"]],svg:{fontCache:"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
<script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=Your%20AddthisId"></script>
<script>(function(){var t,e=document.createElement("script"),n=window.location.protocol.split(":")[0];n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>